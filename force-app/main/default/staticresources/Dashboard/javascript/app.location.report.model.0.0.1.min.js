(function(b){var a=["Id","ProjectName__c","Project__c","ProjectTypeName__c","RetailerName__c","Retailer__c","ClientName__c","Client__c","Location__c","ProjectType__c","ClubNumber__c","StartDate__c","EndDate__c","ProjectStatus__c"],c=["Id","ProjectName__c","Project__c","ProjectTypeName__c","RetailerName__c","Retailer__c","Client__c","ClientId__c","ProjectType__c","Location__c","LocationNumber__c","ScheduleDate__c","Status__c","ServiceName__c","StartDate__c","EndDate__c"];b.module("cmk.location.report.model",["cmk.system.async","cmk.web.context"]).factory("cmkLocationReportModel",["cmkSystemAsync","cmkWebContext",function(g,f){function h(){return new SObjectModel.ProjectLocation__c()}function e(){return new SObjectModel.Job__c()}function j(l){var k=l.split("/");if(k.length!==3){return 0}return new Date(Date.UTC(parseInt(k[2]),parseInt(k[0])-1,parseInt(k[1]),0,0,0,0))}function d(k,m){var n,o,l={orderby:[{StartDate__c:"ASC"}],limit:100};l.where={};l.where.ProjectName__c={ne:""};l.where.StartDate__c={gt:new Date(1900,1,1,0,0,0,0)};if(k==="project"){l.where.ProjectStatus__c={eq:"Scheduled"};l.where.ClubNumber__c={ne:""}}else{if(k==="job"){l.where.Status__c={eq:"Scheduled"};l.where.LocationNumber__c={ne:""}}}if(!!m.startDate){n=j(m.startDate);if(!!n){l.where.StartDate__c={gte:n}}}if(!!m.endDate){n=j(m.endDate);if(!!n){l.where.endDate__c={lte:n}}}if(!!m.retailer){o=m.retailer.substr(0,15);l.where.Retailer__c={eq:o}}if(!!m.location){o=m.location.substr(0,15);l.where.Location__c={eq:o}}if(!!m.client){o=m.client.substr(0,15);if(k==="project"){l.where.Client__c={eq:o}}else{if(k==="job"){l.where.ClientId__c={eq:o}}}}if(!!m.projectType){o=m.projectType.substr(0,15);l.where.ProjectType__c={eq:o}}return l}function i(){}i.prototype.findProjects=function(l){var k=h(),m=d("project",l);return g.call(k.retrieve,m,a)};i.prototype.findJobs=function(l){var k=e(),m=d("job",l);return g.call(k.retrieve,m,c)};return new i()}])})(angular);